// Generated by CoffeeScript 1.8.0
(function() {
  var TodoApp;

  Storage.prototype.setObj = function(key, obj) {
    return this.setItem(key, JSON.stringify(obj));
  };

  Storage.prototype.getObj = function(key) {
    return JSON.parse(this.getItem(key));
  };

  TodoApp = (function() {
    function TodoApp() {
      this.cacheElements();
      this.bindEvents();
    }

    TodoApp.prototype.cacheElements = function() {
      return this.$input = $("#new-todo");
    };

    TodoApp.prototype.bindEvents = function() {
      return this.$input.on("keyup", (function(_this) {
        return function(e) {
          return _this.create(e);
        };
      })(this));
    };

    TodoApp.prototype.displayItems = function() {
      return alert('displaying items');
    };

    TodoApp.prototype.create = function(e) {
      var randomId, val;
      val = $.trim(this.$input.val());
      if (!(e.which === 13 && val)) {
        return;
      }
      randomId = Math.floor(Math.random() * 999999);
      localStorage.setObj(randomId, {
        id: randomId,
        title: val,
        completed: false
      });
      this.$input.val("");
      return this.displayItems();
    };

    return TodoApp;

  })();

  $(function() {
    var app;
    return app = new TodoApp();
  });

}).call(this);
